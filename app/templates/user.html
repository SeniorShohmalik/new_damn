{% load static %}

<link rel="stylesheet" href="{% static 'header.css' %}" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
/>

<script src="https://unpkg.com/htmx.org@1.9.0/dist/htmx.js"></script>

<div class="product-cart" id="sotuvchi">
  <img src="{{ sotuvchi.rasm.url }}" alt="" />
  <p class="badge" style="padding: 0">
    <span style="padding-left: 10px;padding-right: 10px;">{{ sotuvchi.ism.last_login|date:"M / D / h" }}</span>
  </p>
  <div style="position: absolute; top: 35px; right: 30px; color: #088178">
    <form action="{% url 'yoqtirganlarga_saqlash' %}" method="POST">
      {% csrf_token %}
      <!-- <button type="submit" value="{ 'like':{{sotuvchi.id}} }"> -->
      <i
        class="fa-regular fa-heart"
        hx-post="{% url 'yoqtirganlarga_saqlash' %}"
        hx-trigger="click"
        hx-swap="innerHTML"
        hx-target = '#span'
        hx-vals='{"love":"{{sotuvchi.id}}"}'
      >
      </i>
      <!-- </button> -->
    </form>
  </div>

  <p class="kasb" style="font-size: 24px; color: black">
    {{ sotuvchi.ism.username }}
  </p>
  <p class="level" style="margin: 5px">
    <i class="fa-solid fa-quote-left" style="font-size: 12px"></i>
    {{ sotuvchi.bio }}
    <i class="fa-solid fa-quote-right" style="font-size: 12px"></i>
  </p>
  <p class="telefon-raqam">
    <i class="fa-solid fa-phone"></i> {{ sotuvchi.contact }}
  </p>
  <div class="stars">
    <form
      style="
        display: flex;
        justify-content: center;
        flex-direction: row-reverse;
      "
      action=""
      method="post"
    >
      {% csrf_token %}
      <i id="user-{{sotuvchi.id}}"
        >( {{sotuvchi.stared}} ){{ sotuvchi.total }}</i
      >
      <i
        id="i"
        class="fa-solid fa-star"
        hx-post="{% url 'foydalanuvchini_baholash' %}"
        hx-trigger="click"
        hx-swap="innerHTML"
        hx-target="#user-{{sotuvchi.id}}"
        hx-vals='{"e":" {{sotuvchi.id}} "}'
      >
      </i>
      <i
        id="i"
        class="fa-solid fa-star"
        hx-post="{% url 'foydalanuvchini_baholash' %}"
        hx-trigger="click"
        hx-swap="innerHTML"
        hx-target="#user-{{sotuvchi.id}}"
        hx-vals='{"d":" {{sotuvchi.id}} "}'
      >
      </i>
      <i
        id="i"
        class="fa-solid fa-star"
        hx-post="{% url 'foydalanuvchini_baholash' %}"
        hx-trigger="click"
        hx-swap="innerHTML"
        hx-target="#user-{{sotuvchi.id}}"
        hx-vals='{"c":" {{sotuvchi.id}} "}'
      >
      </i>
      <i
        id="i"
        class="fa-solid fa-star"
        hx-post="{% url 'foydalanuvchini_baholash' %}"
        hx-trigger="click"
        hx-swap="innerHTML"
        hx-target="#user-{{sotuvchi.id}}"
        hx-vals='{"b":" {{sotuvchi.id}} "}'
      >
      </i>
      <i
        id="i"
        class="fa-solid fa-star"
        hx-post="{% url 'foydalanuvchini_baholash' %}"
        hx-trigger="click"
        hx-swap="innerHTML"
        hx-target="#user-{{sotuvchi.id}}"
        hx-vals='{"a":" {{sotuvchi.id}} "}'
      >
      </i>
    </form>
  </div>
  {% if sotuvchi.ism == user %}
    <form
      action="{% url 'register_user' %}"
      method="POST"
      class="badge-right"
      style="text-align: left"
    >
      {% csrf_token %}
      <button
        style="text-align: left"
        type="submit"
        name="submit"
        value="{{sotuvchi.id}}"
      >
        <i class="fa-solid fa-gears"></i>
      </button>
    </form>
  {% endif %}
</div>


<style>


  #sotuvchi{
    margin: 100px auto ;
  }
  #header{
    margin: 0;
    box-sizing: border-box;
    font-family: "League Spartan", sans-serif;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: #e3e6f3;
    padding: 20px 80px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.06);
    z-index: 999;
    top: 0;
    left: 0;
    width: 100%;
    position: absolute;

  }
  button{
    background-color: transparent;
    border: none;
    color: #088178;
  }

  button{
      background-color: transparent;
      border: none;
    }

    form{
      margin: 0;
    }
    .main form label{
      text-align: left;
    }
    *{
      text-align: center;
    }
    body::-webkit-scrollbar {
      background-color: transparent;
    width: 0;
}
    i{
      color: #088178;
      border: none;
      outline: none;
      margin-left: 5px;
      font-size: 15px;
      background-color: transparent;
    }
    i#i:hover  {
        color: goldenrod /* Hover color */
    }

   i#i:nth-child(1):hover ~ i#i , i#i:nth-child(1) {
        color: goldenrod
    }

   i#i:nth-child(2):hover ~ i#i , i#i:nth-child(1) {
        color: goldenrod
    }

   i#i:nth-child(3):hover ~ i#i {
        color: goldenrod
    }

   i#i:nth-child(4):hover ~ i#i {
        color: goldenrod
    }

    i#i:nth-child(5):hover ~ i#i {
        color: goldenrod
    }

  #span{

    font-size: 10px;
    background-color: #088178;
    border-radius: 50%;
    padding: 5px;
    color: white;
    position: absolute;
    top: 20px;
  }

</style>


